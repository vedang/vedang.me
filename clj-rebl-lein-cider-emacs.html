<html><head><meta charset="UTF-8" content="My corner on the Internet." /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><link href="/atom.xml" rel="alternate" title="Vedang Manerikar" type="application/atom+xml" /><link href="/style.css" rel="stylesheet" type="text/css" /><script crossorigin="anonymous" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" type="application/javascript"></script><script crossorigin="anonymous" integrity="sha512-BrJeu0wD2TAYh1Vb3N0BSn/7t43FfeEkDNof6XUX5wFLmFb1z3tS/8bbr1XZqDg96KjtfmuSyI0AUCayDMQYNw==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-clojure.min.js" type="application/javascript"></script><link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" integrity="sha512-vswe+cgvic/XBoF1OcM/TeJ2FW0OofqAVdCZiEYkd6dwGXthvkSFWOoGGJgS2CW70VK5dQM5Oh+7ne47s74VTg==" referrerpolicy="no-referrer" rel="stylesheet" type="text/css" /><script crossorigin="anonymous" integrity="sha512-st608h+ZqzliahyzEpETxzU0f7z7a9acN6AFvYmHvpFhmcFuKT8a22TT5TpKpjDa3pt3Wv7Z3SdQBCBdDPhyWA==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js" type="application/javascript"></script><link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css" integrity="sha512-Dqf5696xtofgH089BgZJo2lSWTvev4GFo+gA2o4GullFY65rzQVQLQVlzLvYwTo0Bb2Gpb6IqwxYWtoMonfdhQ==" referrerpolicy="no-referrer" rel="stylesheet" type="text/css" /><script crossorigin="anonymous" integrity="sha512-/kVH1uXuObC0iYgxxCKY41JdWOkKOxorFVmip+YVifKsJ4Au/87EisD1wty7vxN2kAhnWh6Yc8o/dSAXj6Oz7A==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js" type="application/javascript"></script><title>How to use the Clojure REBL with Leiningen, Cider and Emacs</title><link href="static/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180" /><link href="static/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" /><link href="static/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" /><link href="static/site.webmanifest" rel="manifest" /><link color="#5bbad5" href="static/safari-pinned-tab.svg" rel="mask-icon" /><meta content="#da532c" name="msapplication-TileColor" /><meta content="#ffffff" name="theme-color" /></head><body><div class="m-2 border-b-2 border-gray-300" id="site-header"><div class="prose prose-stone mx-auto grid grid-cols-2" id="site-title"><div><h1 class="m-0 lg:text-2xl"><a href="/index.html">Vedang Manerikar</a></h1><p class="font-semi-bold mt-1 text-xl text-gray-800">My corner on the Internet.</p></div><div><nav id="site-nav"><a class="p-2 font-medium text-gray-700 transition duration-200 hover:bg-gray-100 hover:text-gray-900 hover:ease-in-out" href="/atom.xml">Feed</a><a class="p-2 font-medium text-gray-700 transition duration-200 hover:bg-gray-100 hover:text-gray-900 hover:ease-in-out" href="https://twitter.com/vedang" target="_blank">Twitter</a><a class="p-2 font-medium text-gray-700 transition duration-200 hover:bg-gray-100 hover:text-gray-900 hover:ease-in-out" href="https://fosstodon.org/@vedang" target="_blank">Mastodon</a><a class="p-2 font-medium text-gray-700 transition duration-200 hover:bg-gray-100 hover:text-gray-900 hover:ease-in-out" href="/about.html">About</a></nav></div></div></div><div class="prose prose-stone mx-auto px-2 prose-ul:list-none prose-img:rounded-xl prose-img:shadow-xl lg:px-0" id="post-body"><h1>How to use the Clojure REBL with Leiningen, Cider and Emacs</h1><p><strong>Note</strong>: This set of instructions only work on <strong>Clojure 1.10+</strong>, <strong>Lein 2.9+</strong> and <strong>JDK 11+</strong>. Also, REBL requires a license for commercial use.</p><p>I didn't find a handy reference to getting started with REBL if your primary workflow is Leiningen/nrepl, so here is the series of things I had to do to get the REBL up and running for myself.</p><ol><li>Download the <a href='https://docs.datomic.com/cloud/other-tools/REBL.html'>REBL jar</a> from Cognitect.</li><li>Use <a href='https://github.com/kumarshantanu/lein-localrepo'>lein-localrepo</a> to install the REBL jar to your m2.<pre><code class="lang-shell-script">    lein localrepo install rebl-0.9.242/rebl-0.9.242.jar com.cognitect/rebl 0.9.242
    </code></pre></li><li>Add the following code to your <code>profiles.clj</code> file (code below). This is based on the <a href='https://docs.datomic.com/cloud/other-tools/REBL.html#installation'>REBL installation guide</a> and <a href='https://github.com/RickMoynihan/nrebl.middleware'>Rick Moynihan's nrepl middleware</a>:<pre><code class="lang-clojure">    {
     ;; ....
     ;; You other profiles stuff
     ;; ....
     :rebl {:plugins &#91;&#91;cider/cider-nrepl &quot;0.25.3&quot;&#93;
                      &#91;refactor-nrepl &quot;2.5.0&quot;&#93;
                      &#91;nrepl &quot;0.8.2&quot;&#93;&#93;
            :repl-options {:nrepl-middleware &#91;nrebl.middleware/wrap-nrebl&#93;}
            :dependencies &#91;&#91;org.clojure/tools.deps.alpha &quot;0.7.511&quot;&#93;
                           &#91;com.cognitect/rebl &quot;0.9.242&quot;&#93;
                           &#91;org.clojure/core.async &quot;1.3.610&quot;&#93;
                           &#91;cljfmt  &quot;0.6.4&quot;&#93;
                           &#91;rickmoynihan/nrebl.middleware &quot;0.3.1&quot;&#93;
                           &#91;org.openjfx/javafx-fxml &quot;15-ea+6&quot;&#93;
                           &#91;org.openjfx/javafx-controls &quot;15-ea+6&quot;&#93;
                           &#91;org.openjfx/javafx-swing &quot;15-ea+6&quot;&#93;
                           &#91;org.openjfx/javafx-base &quot;15-ea+6&quot;&#93;
                           &#91;org.openjfx/javafx-web &quot;15-ea+6&quot;&#93;&#93;}
     ;; ....
     ;; If you don't have anything in your profiles.clj right now, just
     ;; remove the comments and copy the whole map over.
     }
    </code></pre></li><li>Start the REPL with the new profile<pre><code class="lang-shell-script">    lein with-profile +rebl repl :headless
    </code></pre></li><li>Connect to the REPL from Emacs. Do this by opening up any Clojure file in your project and executing <code>M-x cider-connect</code> in the file.</li><li>Run the following commands in the REPL to spin up the REBL.<pre><code class="lang-clojure">    &#40;require '&#91;cognitect.rebl :as rebl&#93;&#41;
    &#40;rebl/ui&#41;
    </code></pre></li><li>At this point, anything that you evaluate when programming will be sent to your REPL as well as to your REBL and can be inspected from there. Anything you evaluate into the REPL will be sent over to the REBL as well.</li><li>Work on the REPL as you normally would. Your work is also being sent into the REBL for fancy viewing when you need it.</li></ol><p><i>Last Updated: 2020-10-28T23:18:00Z</i></p><hr /><div id="post-parents"><div id="post-links"><h1>Parents</h1><ul><li><span>2023-05-19</span><span> - </span><a href="/tools.html">Tools</a></li></ul></div></div><hr /><div id="post-tags"><h1 class="links-header">Tags</h1><div class="flex"><div class="inline-flex"><a href="/tags/cognitect.html">cognitect</a><span class="mx-2">|</span></div><div class="inline-flex"><a href="/tags/tools.html">tools</a><span class="mx-2">|</span></div><div class="inline-flex"><a href="/tags/clojure.html">clojure</a><span class="mx-2">|</span></div><div class="inline-flex"><a href="/tags/rebl.html">rebl</a><span class="mx-2">|</span></div><div class="inline-flex"><a href="/tags/cider.html">cider</a><span class="mx-2">|</span></div><div class="inline-flex"><a href="/tags/emacs.html">emacs</a><span class="mx-2">|</span></div><div class="inline-flex"><a href="/tags/leiningen.html">leiningen</a><span class="mx-2"></span></div></div></div><nav class="bottom-0 right-0 float-right mb-6" id="post-nav"><a class="px-2" href="/index.html">Archive</a><a class="px-2" href="https://github.com/vedang/vedang.me/blob/master/tools/clj-rebl-lein-cider-emacs.md" target="_blank">Discuss this post</a></nav><nav class="bottom-0 left-0 float-left mb-6" id="copyright-nav"><p>Except where otherwise noted, content on this site is licensed under a <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International license</a>.</p><p>Built with love, using <a href="https://www.gnu.org/software/emacs/">Emacs</a>, <a href="https://orgmode.org/">Org-mode</a>, <a href="https://clojure.org/index">Clojure</a>, <a href="https://babashka.org/">Babashka</a>, <a href="https://tailwindcss.com/">TailwindCSS</a>, <a href="https://prismjs.com/">PrismJS</a></p></nav></div></body></html>